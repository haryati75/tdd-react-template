# Prevent direct pushes to main or dev
protected_branches="main dev"
current_branch=$(git rev-parse --abbrev-ref HEAD)

for branch in $protected_branches; do
  if [ "$current_branch" = "$branch" ]; then
    echo "‚ùå Direct push to '$branch' is not allowed."
    echo "   Please use a pull request instead:"
    echo ""
    echo "   1. Create a feature branch:"
    echo "      git checkout -b feat/your-feature"
    echo ""
    echo "   2. Push to that branch:"
    echo "      git push -u origin feat/your-feature"
    echo ""
    echo "   3. Open a pull request on GitHub"
    echo ""
    exit 1
  fi
done

exit 0
